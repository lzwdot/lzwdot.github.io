import{d as _,u as h,p as a,v as p,o as v,c as g,j as t,r as y,_ as w}from"./framework.DatVRQJC.js";const b={class:"htmlDemo"},k={class:"iframe-bg"},D=["height"],B={class:"details custom-block"},$=_({__name:"HtmlDemo",setup(x){const{site:m}=h(),i=a(0),r=a(""),n=a(),l=a();function f(){const e=window==null?void 0:window.open("");e&&(e.focus(),e.document.write(`<style>html,body{margin:0;padding:0}</style>${r.value}`),e.document.title=`代码在线运行 | ${m.value.title}`,e.document.close())}return p(()=>{var o,c,d;const e=(c=(o=l.value)==null?void 0:o.contentWindow)==null?void 0:c.document;if(e){let s=(d=n==null?void 0:n.value)==null?void 0:d.textContent;const u="html";s!=null&&s.trim().startsWith(u)&&(s=s.trim().substring(u.length)),r.value=s||"",e.open(),e.write(`<style>html,body{margin:0;padding:0}</style>${s}`),e.close(),l!=null&&l.value&&(l.value.onload=()=>{i.value=i.value+e.body.scrollHeight+20})}}),(e,o)=>(v(),g("section",b,[t("header",null,[o[0]||(o[0]=t("code",null,"源码预览",-1)),t("a",{onClick:f},"打开窗口")]),t("div",k,[t("iframe",{ref_key:"iframeRef",ref:l,height:i.value,frameBorder:"0",scrolling:"no",allowFullScreen:"true",width:"100%"},null,8,D)]),t("details",B,[o[1]||(o[1]=t("summary",null,"查看源码",-1)),t("div",{ref_key:"codeRef",ref:n},[y(e.$slots,"default",{},void 0,!0)],512)])]))}}),H=w($,[["__scopeId","data-v-eb918914"]]);export{H as default};
