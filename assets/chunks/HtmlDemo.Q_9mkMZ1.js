import{d as u,u as m,x as s,p as f,c as _,o as h,j as o,r as p,_ as g}from"./framework.m2bnJTo2.js";const v={class:"htmlDemo"},y={class:"iframe-bg"},w=["height"],b={class:"details custom-block"},k=u({__name:"HtmlDemo",setup(D){const{site:c}=m(),l=s(0),a=s(""),i=s(),n=s();function d(){const e=window?.open("");e&&(e.focus(),e.document.write(`<style>html,body{margin:0;padding:0}</style>${a.value}`),e.document.title=`代码在线运行 | ${c.value.title}`,e.document.close())}return f(()=>{const e=n.value?.contentWindow?.document;if(e){let t=i?.value?.textContent;const r="html";t?.trim().startsWith(r)&&(t=t.trim().substring(r.length)),a.value=t||"",e.open(),e.write(`<style>html,body{margin:0;padding:0}</style>${t}`),e.close(),n?.value&&(n.value.onload=()=>{l.value=l.value+e.body.scrollHeight+20})}}),(e,t)=>(h(),_("section",v,[o("header",null,[t[0]||(t[0]=o("code",null,"源码预览",-1)),o("a",{onClick:d},"打开窗口")]),o("div",y,[o("iframe",{ref_key:"iframeRef",ref:n,height:l.value,frameBorder:"0",scrolling:"no",allowFullScreen:"true",width:"100%"},null,8,w)]),o("details",b,[t[1]||(t[1]=o("summary",null,"查看源码",-1)),o("div",{ref_key:"codeRef",ref:i},[p(e.$slots,"default",{},void 0,!0)],512)])]))}}),B=g(k,[["__scopeId","data-v-eb918914"]]);export{B as default};
